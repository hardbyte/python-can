Use ThreadPoolExecutor in `detect_available_configs()` to reduce runtime and add `timeout` parameter.